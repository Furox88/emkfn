<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RBA Kozmoloji Sim√ºlasyonu</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e22ce 100%);
            color: #fff;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            text-align: center;
            opacity: 0.9;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .control-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }
        
        .param-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .param {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
        }
        
        .param label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 0.95em;
        }
        
        .param input[type="range"] {
            width: 100%;
            margin: 5px 0;
        }
        
        .param-value {
            display: inline-block;
            background: rgba(126, 34, 206, 0.3);
            padding: 4px 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 0.9em;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .chart-box {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }
        
        .chart-title {
            font-size: 1.3em;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 600;
        }
        
        canvas {
            max-width: 100%;
        }
        
        .results-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .result-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .result-label {
            font-size: 0.9em;
            opacity: 0.8;
            margin-bottom: 8px;
        }
        
        .result-value {
            font-size: 1.5em;
            font-weight: 700;
            color: #a78bfa;
        }
        
        @media (max-width: 768px) {
            .charts-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåå RBA Kozmoloji Sim√ºlasyonu</h1>
        <p class="subtitle">RBA Theory v4.3 - Kozmolojik Evrim ve Dekoherans Analizi</p>
        
        <div class="control-panel">
            <h3 style="margin-bottom: 20px;">‚öôÔ∏è Parametre Kontrolleri</h3>
            <div class="param-group">
                <div class="param">
                    <label>Œ©_m (Madde Yoƒüunluƒüu): <span class="param-value" id="omega_m_val">0.315</span></label>
                    <input type="range" id="omega_m" min="0.1" max="0.5" step="0.005" value="0.315">
                </div>
                <div class="param">
                    <label>Œ©_RBA (RBA Yoƒüunluƒüu): <span class="param-value" id="omega_rba_val">0.685</span></label>
                    <input type="range" id="omega_rba" min="0.5" max="0.9" step="0.005" value="0.685">
                </div>
                <div class="param">
                    <label>Œµ (Sapma Katsayƒ±sƒ±): <span class="param-value" id="epsilon_val">0.17</span></label>
                    <input type="range" id="epsilon" min="0.05" max="0.3" step="0.01" value="0.17">
                </div>
                <div class="param">
                    <label>Œ≤ (L √úss√º): <span class="param-value" id="beta_val">0.5</span></label>
                    <input type="range" id="beta" min="0.1" max="1.0" step="0.05" value="0.5">
                </div>
            </div>
            <div class="button-group">
                <button onclick="runSimulation()">üöÄ Sim√ºlasyonu √áalƒ±≈ütƒ±r</button>
                <button onclick="resetParameters()">üîÑ Sƒ±fƒ±rla</button>
                <button onclick="compareModels()">üìä ŒõCDM ile Kar≈üƒ±la≈ütƒ±r</button>
            </div>
        </div>
        
        <div class="charts-container">
            <div class="chart-box">
                <div class="chart-title">Hubble Parametresi H(z)</div>
                <canvas id="hubbleChart"></canvas>
            </div>
            <div class="chart-box">
                <div class="chart-title">Durum Denklemi w(z)</div>
                <canvas id="wChart"></canvas>
            </div>
            <div class="chart-box">
                <div class="chart-title">L Parametresi Evrimi</div>
                <canvas id="lChart"></canvas>
            </div>
            <div class="chart-box">
                <div class="chart-title">Enerji Yoƒüunluklarƒ±</div>
                <canvas id="densityChart"></canvas>
            </div>
        </div>
        
        <div class="results-panel">
            <h3>üìà Hesaplanan Deƒüerler (z = 0)</h3>
            <div class="results-grid" id="resultsGrid"></div>
        </div>
    </div>
    
    <script>
        // Fiziksel Sabitler
        const c = 2.998e8;
        const G = 6.674e-11;
        const hbar = 1.055e-34;
        const k_B = 1.381e-23;
        const H0 = 67.4;
        const H0_SI = H0 * 1e3 / 3.086e22;
        const L0 = 1.0;
        
        let charts = {};
        let params = {
            Omega_m: 0.315,
            Omega_r: 9.2e-5,
            Omega_RBA: 0.685,
            epsilon: 0.17,
            beta: 0.5
        };
        
        // Event listeners
        document.getElementById('omega_m').addEventListener('input', (e) => {
            params.Omega_m = parseFloat(e.target.value);
            document.getElementById('omega_m_val').textContent = params.Omega_m.toFixed(3);
        });
        
        document.getElementById('omega_rba').addEventListener('input', (e) => {
            params.Omega_RBA = parseFloat(e.target.value);
            document.getElementById('omega_rba_val').textContent = params.Omega_RBA.toFixed(3);
        });
        
        document.getElementById('epsilon').addEventListener('input', (e) => {
            params.epsilon = parseFloat(e.target.value);
            document.getElementById('epsilon_val').textContent = params.epsilon.toFixed(2);
        });
        
        document.getElementById('beta').addEventListener('input', (e) => {
            params.beta = parseFloat(e.target.value);
            document.getElementById('beta_val').textContent = params.beta.toFixed(2);
        });
        
        // RBA Kozmoloji Hesaplamalarƒ±
        function L_of_z(z, beta) {
            return L0 * Math.pow(1 + z, -beta);
        }
        
        function w_RBA(z, epsilon, beta) {
            const L = L_of_z(z, beta);
            return -1 + epsilon * (1 - L);
        }
        
        function E_squared(z, Omega_m, Omega_r, Omega_RBA, epsilon, beta) {
            const rho_m = Omega_m * Math.pow(1 + z, 3);
            const rho_r = Omega_r * Math.pow(1 + z, 4);
            
            // RBA integral hesabƒ±
            const steps = 100;
            const dz = z / steps;
            let integral = 0;
            for (let i = 0; i < steps; i++) {
                const zp = i * dz;
                const w = w_RBA(zp, epsilon, beta);
                integral += (1 + w) / (1 + zp) * dz;
            }
            
            const rho_RBA = Omega_RBA * Math.exp(3 * integral);
            return rho_m + rho_r + rho_RBA;
        }
        
        function H_of_z(z, Omega_m, Omega_r, Omega_RBA, epsilon, beta) {
            return H0 * Math.sqrt(E_squared(z, Omega_m, Omega_r, Omega_RBA, epsilon, beta));
        }
        
        function runSimulation() {
            const z_values = [];
            const H_values = [];
            const w_values = [];
            const L_values = [];
            const rho_m_values = [];
            const rho_r_values = [];
            const rho_RBA_values = [];
            
            for (let i = 0; i <= 200; i++) {
                const z = i * 0.02; // 0 to 4
                z_values.push(z);
                
                H_values.push(H_of_z(z, params.Omega_m, params.Omega_r, params.Omega_RBA, params.epsilon, params.beta));
                w_values.push(w_RBA(z, params.epsilon, params.beta));
                L_values.push(L_of_z(z, params.beta));
                
                const E2 = E_squared(z, params.Omega_m, params.Omega_r, params.Omega_RBA, params.epsilon, params.beta);
                rho_m_values.push(params.Omega_m * Math.pow(1 + z, 3) / E2);
                rho_r_values.push(params.Omega_r * Math.pow(1 + z, 4) / E2);
                
                let integral = 0;
                const steps = 50;
                const dz = z / steps;
                for (let j = 0; j < steps; j++) {
                    const zp = j * dz;
                    const w = w_RBA(zp, params.epsilon, params.beta);
                    integral += (1 + w) / (1 + zp) * dz;
                }
                rho_RBA_values.push(params.Omega_RBA * Math.exp(3 * integral) / E2);
            }
            
            updateCharts(z_values, H_values, w_values, L_values, rho_m_values, rho_r_values, rho_RBA_values);
            updateResults();
        }
        
        function updateCharts(z, H, w, L, rho_m, rho_r, rho_RBA) {
            // Hubble Chart
            if (charts.hubble) charts.hubble.destroy();
            charts.hubble = new Chart(document.getElementById('hubbleChart'), {
                type: 'line',
                data: {
                    labels: z,
                    datasets: [{
                        label: 'H(z) - RBA',
                        data: H,
                        borderColor: '#a78bfa',
                        backgroundColor: 'rgba(167, 139, 250, 0.1)',
                        borderWidth: 3,
                        pointRadius: 0,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: { labels: { color: '#fff' } }
                    },
                    scales: {
                        x: { 
                            title: { display: true, text: 'Redshift (z)', color: '#fff' },
                            ticks: { color: '#fff' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        },
                        y: { 
                            title: { display: true, text: 'H(z) [km/s/Mpc]', color: '#fff' },
                            ticks: { color: '#fff' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        }
                    }
                }
            });
            
            // w Chart
            if (charts.w) charts.w.destroy();
            charts.w = new Chart(document.getElementById('wChart'), {
                type: 'line',
                data: {
                    labels: z,
                    datasets: [{
                        label: 'w(z) - RBA',
                        data: w,
                        borderColor: '#fbbf24',
                        backgroundColor: 'rgba(251, 191, 36, 0.1)',
                        borderWidth: 3,
                        pointRadius: 0,
                        tension: 0.4
                    }, {
                        label: 'w = -1 (ŒõCDM)',
                        data: Array(z.length).fill(-1),
                        borderColor: '#ef4444',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        pointRadius: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: { labels: { color: '#fff' } }
                    },
                    scales: {
                        x: { 
                            title: { display: true, text: 'Redshift (z)', color: '#fff' },
                            ticks: { color: '#fff' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        },
                        y: { 
                            title: { display: true, text: 'w(z)', color: '#fff' },
                            ticks: { color: '#fff' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        }
                    }
                }
            });
            
            // L Chart
            if (charts.L) charts.L.destroy();
            charts.L = new Chart(document.getElementById('lChart'), {
                type: 'line',
                data: {
                    labels: z,
                    datasets: [{
                        label: 'L(z)',
                        data: L,
                        borderColor: '#34d399',
                        backgroundColor: 'rgba(52, 211, 153, 0.1)',
                        borderWidth: 3,
                        pointRadius: 0,
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: { labels: { color: '#fff' } }
                    },
                    scales: {
                        x: { 
                            title: { display: true, text: 'Redshift (z)', color: '#fff' },
                            ticks: { color: '#fff' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        },
                        y: { 
                            title: { display: true, text: 'L(z)', color: '#fff' },
                            ticks: { color: '#fff' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        }
                    }
                }
            });
            
            // Density Chart
            if (charts.density) charts.density.destroy();
            charts.density = new Chart(document.getElementById('densityChart'), {
                type: 'line',
                data: {
                    labels: z,
                    datasets: [{
                        label: 'Madde',
                        data: rho_m,
                        borderColor: '#60a5fa',
                        backgroundColor: 'rgba(96, 165, 250, 0.2)',
                        borderWidth: 2,
                        pointRadius: 0,
                        fill: true
                    }, {
                        label: 'Radyasyon',
                        data: rho_r,
                        borderColor: '#f472b6',
                        backgroundColor: 'rgba(244, 114, 182, 0.2)',
                        borderWidth: 2,
                        pointRadius: 0,
                        fill: true
                    }, {
                        label: 'RBA',
                        data: rho_RBA,
                        borderColor: '#a78bfa',
                        backgroundColor: 'rgba(167, 139, 250, 0.2)',
                        borderWidth: 2,
                        pointRadius: 0,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: { labels: { color: '#fff' } }
                    },
                    scales: {
                        x: { 
                            title: { display: true, text: 'Redshift (z)', color: '#fff' },
                            ticks: { color: '#fff' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        },
                        y: { 
                            title: { display: true, text: 'Œ©(z)', color: '#fff' },
                            ticks: { color: '#fff' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        }
                    }
                }
            });
        }
        
        function updateResults() {
            const z_points = [0, 0.5, 1.0, 2.0];
            let html = '';
            
            z_points.forEach(z => {
                const L = L_of_z(z, params.beta);
                const w = w_RBA(z, params.epsilon, params.beta);
                const H = H_of_z(z, params.Omega_m, params.Omega_r, params.Omega_RBA, params.epsilon, params.beta);
                
                html += `
                    <div class="result-card">
                        <div class="result-label">z = ${z}</div>
                        <div class="result-value">L = ${L.toFixed(3)}</div>
                        <div class="result-value">w = ${w.toFixed(4)}</div>
                        <div class="result-value">H = ${H.toFixed(1)}</div>
                    </div>
                `;
            });
            
            document.getElementById('resultsGrid').innerHTML = html;
        }
        
        function resetParameters() {
            params = {
                Omega_m: 0.315,
                Omega_r: 9.2e-5,
                Omega_RBA: 0.685,
                epsilon: 0.17,
                beta: 0.5
            };
            
            document.getElementById('omega_m').value = 0.315;
            document.getElementById('omega_rba').value = 0.685;
            document.getElementById('epsilon').value = 0.17;
            document.getElementById('beta').value = 0.5;
            
            document.getElementById('omega_m_val').textContent = '0.315';
            document.getElementById('omega_rba_val').textContent = '0.685';
            document.getElementById('epsilon_val').textContent = '0.17';
            document.getElementById('beta_val').textContent = '0.5';
            
            runSimulation();
        }
        
        function compareModels() {
            alert('ŒõCDM kar≈üƒ±la≈ütƒ±rmasƒ±: w(z) grafiƒüinde kƒ±rmƒ±zƒ± kesikli √ßizgi ŒõCDM modelini (w=-1) g√∂stermektedir. RBA modeli dinamik w(z) ile farklƒ±la≈üƒ±r.');
        }
        
        // ƒ∞lk y√ºkleme
        runSimulation();
    </script>
</body>
</html>